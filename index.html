<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WebChat</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="data:application/json,{}">
    <meta name="theme-color" content="#1a1a2e">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <div class="login-logo">
                <div class="logo-icon">üí¨</div>
                <h1>WebChat</h1>
                <p>–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º –¥–ª—è –≤—Ö–æ–¥–∞</p>
            </div>
            <div class="login-form">
                <div class="input-group">
                    <input type="text" id="nicknameInput" placeholder="–í–∞—à –Ω–∏–∫–Ω–µ–π–º" autocomplete="off" maxlength="20">
                    <span class="input-icon">@</span>
                </div>
                <button id="loginBtn" class="btn-primary">–í–æ–π—Ç–∏</button>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω -->
    <div id="mainScreen" class="screen">
        <!-- –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ -->
        <div id="chatList" class="panel active">
            <div class="panel-header">
                <div class="header-left">
                    <h2>üí¨ –ß–∞—Ç—ã</h2>
                </div>
                <div class="header-right">
                    <button id="searchBtn" class="icon-btn" title="–ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">üîç</button>
                    <button id="settingsBtn" class="icon-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
                </div>
            </div>

            <!-- –ü–æ–∏—Å–∫ -->
            <div id="searchPanel" class="search-panel hidden">
                <div class="search-input-wrap">
                    <input type="text" id="searchInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º..." autocomplete="off">
                    <button id="searchGoBtn" class="icon-btn">üîç</button>
                    <button id="searchCloseBtn" class="icon-btn">‚úï</button>
                </div>
                <div id="searchResults" class="search-results"></div>
            </div>

            <!-- –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ -->
            <div id="contactsList" class="contacts-list">
                <div class="empty-state">
                    <div class="empty-icon">üëã</div>
                    <p>–ü–æ–∫–∞ –Ω–µ—Ç —á–∞—Ç–æ–≤</p>
                    <p class="sub">–ù–∞–∂–º–∏—Ç–µ üîç —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞</p>
                </div>
            </div>

            <div class="my-profile" id="myProfile">
                <div class="profile-avatar" id="myAvatar">U</div>
                <span id="myNickname">username</span>
                <span class="online-dot"></span>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —á–∞—Ç–∞ -->
        <div id="chatScreen" class="panel">
            <div class="panel-header chat-header">
                <button id="backBtn" class="icon-btn">‚Üê</button>
                <div class="chat-user-info" id="chatUserInfo">
                    <div class="chat-avatar" id="chatAvatar">U</div>
                    <div class="chat-user-details">
                        <span class="chat-username" id="chatUsername">Username</span>
                        <span class="chat-status" id="chatStatus">–æ—Ñ—Ñ–ª–∞–π–Ω</span>
                    </div>
                </div>
                <div class="header-right">
                    <button id="downloadChatBtn" class="icon-btn" title="–°–∫–∞—á–∞—Ç—å —á–∞—Ç">üíæ</button>
                </div>
            </div>

            <div id="messagesContainer" class="messages-container">
                <div class="messages-wrapper" id="messagesWrapper">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                </div>
            </div>

            <!-- –ü—Ä–µ–≤—å—é —Ñ–∞–π–ª–∞ -->
            <div id="filePreview" class="file-preview hidden">
                <div class="file-preview-content">
                    <img id="filePreviewImg" class="hidden" alt="">
                    <video id="filePreviewVideo" class="hidden" controls></video>
                    <div id="filePreviewFile" class="hidden">
                        <span class="file-icon">üìÑ</span>
                        <span id="filePreviewName"></span>
                    </div>
                </div>
                <button id="filePreviewClose" class="icon-btn">‚úï</button>
            </div>

            <!-- –ù–∞–±–∏—Ä–∞–µ—Ç... -->
            <div id="typingIndicator" class="typing-indicator hidden">
                <span>–ø–µ—á–∞—Ç–∞–µ—Ç</span>
                <div class="typing-dots">
                    <span></span><span></span><span></span>
                </div>
            </div>

            <div class="message-input-area">
                <button id="attachBtn" class="icon-btn">üìé</button>
                <input type="file" id="fileInput" accept="image/*,video/*,.pdf,.doc,.docx,.txt,.zip" class="hidden" multiple>
                <div class="input-wrap">
                    <textarea id="messageInput" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." rows="1"></textarea>
                </div>
                <button id="sendBtn" class="icon-btn send-btn">‚û§</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ–¥–∏–∞ -->
    <div id="mediaModal" class="media-modal hidden">
        <div class="media-modal-header">
            <button id="mediaModalClose" class="icon-btn">‚úï</button>
            <button id="mediaModalDownload" class="icon-btn">‚¨áÔ∏è</button>
        </div>
        <div class="media-modal-content">
            <img id="modalImage" class="hidden" alt="">
            <video id="modalVideo" class="hidden" controls></video>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>